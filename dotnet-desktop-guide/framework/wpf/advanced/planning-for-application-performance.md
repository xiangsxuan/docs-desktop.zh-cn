---
title: 规划应用程序性能
ms.date: 03/30/2017
helpviewer_keywords:
- applications [WPF], optimizing
- WPF application [WPF], optimizing
ms.assetid: c91bd0c5-a193-46ff-9da1-eb7a3a76a3b3
ms.openlocfilehash: f63d54a5ab9e6c97b9f75cdf01513b80c9f63ee2
ms.sourcegitcommit: 069786bcadbf9cd931d7dc3d892262cd852d2ffb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/19/2021
ms.locfileid: "104667208"
---
# <a name="planning-for-application-performance"></a><span data-ttu-id="41d50-102">规划应用程序性能</span><span class="sxs-lookup"><span data-stu-id="41d50-102">Planning for Application Performance</span></span>
<span data-ttu-id="41d50-103">实现性能目标的成功取决于你开发性能策略的程度。</span><span class="sxs-lookup"><span data-stu-id="41d50-103">The success of achieving your performance goals depends on how well you develop your performance strategy.</span></span> <span data-ttu-id="41d50-104">规划是开发任何产品的第一阶段。</span><span class="sxs-lookup"><span data-stu-id="41d50-104">Planning is the first stage in developing any product.</span></span> <span data-ttu-id="41d50-105">本主题介绍了几个非常简单的规则，用于开发良好的性能策略。</span><span class="sxs-lookup"><span data-stu-id="41d50-105">This topic describes a few very simple rules for developing a good performance strategy.</span></span>  
  
## <a name="think-in-terms-of-scenarios"></a><span data-ttu-id="41d50-106">考虑方案</span><span class="sxs-lookup"><span data-stu-id="41d50-106">Think in Terms of Scenarios</span></span>  
 <span data-ttu-id="41d50-107">方案可帮助你专注于应用程序的关键组件。</span><span class="sxs-lookup"><span data-stu-id="41d50-107">Scenarios can help you focus on the critical components of your application.</span></span> <span data-ttu-id="41d50-108">方案通常派生自你的客户和竞争产品。</span><span class="sxs-lookup"><span data-stu-id="41d50-108">Scenarios are generally derived from your customers, as well as competitive products.</span></span> <span data-ttu-id="41d50-109">请始终研究你的客户，并找出对你的产品和竞争对手的产品的真正令人兴奋的内容。</span><span class="sxs-lookup"><span data-stu-id="41d50-109">Always study your customers and find out what really makes them excited about your product, and your competitors' products.</span></span> <span data-ttu-id="41d50-110">你的客户的反馈可以帮助你确定应用程序的主要方案。</span><span class="sxs-lookup"><span data-stu-id="41d50-110">Your customers' feedback can help you to determine your application's primary scenario.</span></span> <span data-ttu-id="41d50-111">例如，如果您正在设计将在启动时使用的组件，则当应用程序启动时，该组件可能只调用一次。</span><span class="sxs-lookup"><span data-stu-id="41d50-111">For instance, if you are designing a component that will be used at startup, it is likely that the component will be called only once, when the application starts up.</span></span> <span data-ttu-id="41d50-112">启动时间成为你的关键方案。</span><span class="sxs-lookup"><span data-stu-id="41d50-112">Startup time becomes your key scenario.</span></span> <span data-ttu-id="41d50-113">关键方案的其他示例可能是动画序列所需的帧速率，或应用程序允许的最大工作集。</span><span class="sxs-lookup"><span data-stu-id="41d50-113">Other examples of key scenarios could be the desired frame rate for animation sequences, or the maximum working set allowed for the application.</span></span>  
  
## <a name="define-goals"></a><span data-ttu-id="41d50-114">定义目标</span><span class="sxs-lookup"><span data-stu-id="41d50-114">Define Goals</span></span>  
 <span data-ttu-id="41d50-115">目标有助于确定应用程序的运行速度是否更快或更慢。</span><span class="sxs-lookup"><span data-stu-id="41d50-115">Goals help you to determine whether an application is performing faster or slower.</span></span> <span data-ttu-id="41d50-116">应为所有方案定义目标。</span><span class="sxs-lookup"><span data-stu-id="41d50-116">You should define goals for all of your scenarios.</span></span> <span data-ttu-id="41d50-117">你定义的所有性能目标都应基于客户预期。</span><span class="sxs-lookup"><span data-stu-id="41d50-117">All performance goals that you define should be based on your customers' expectations.</span></span> <span data-ttu-id="41d50-118">当仍有许多未解决的问题时，可能很难在应用程序开发周期中提前设置性能目标。</span><span class="sxs-lookup"><span data-stu-id="41d50-118">It may be difficult to set performance goals early on in the application development cycle, when there are still many unresolved issues.</span></span> <span data-ttu-id="41d50-119">不过，最好设置一个初始目标，并在以后对其进行修订，使其不是一个目标。</span><span class="sxs-lookup"><span data-stu-id="41d50-119">However, it is better to set an initial goal and revise it later than not to have a goal at all.</span></span>  
  
## <a name="understand-your-platform"></a><span data-ttu-id="41d50-120">了解平台</span><span class="sxs-lookup"><span data-stu-id="41d50-120">Understand Your Platform</span></span>  
 <span data-ttu-id="41d50-121">在应用程序开发周期中始终维持测量、调查、优化/更正的周期。</span><span class="sxs-lookup"><span data-stu-id="41d50-121">Always maintain the cycle of measuring, investigating, refining/correcting during your application development cycle.</span></span> <span data-ttu-id="41d50-122">在开发周期结束时，您需要在可靠、稳定的环境中衡量应用程序的性能。</span><span class="sxs-lookup"><span data-stu-id="41d50-122">From the beginning to the end of the development cycle, you need to measure your application's performance in a reliable, stable environment.</span></span> <span data-ttu-id="41d50-123">应避免由外部因素导致的可变性。</span><span class="sxs-lookup"><span data-stu-id="41d50-123">You should avoid variability caused by external factors.</span></span> <span data-ttu-id="41d50-124">例如，在测试性能时，您应该禁用防病毒或任何自动更新，如 SMS，以便不影响性能测试结果。</span><span class="sxs-lookup"><span data-stu-id="41d50-124">For example, when testing performance, you should disable anti-virus or any automatic update such as SMS, in order not to impact performance test results.</span></span> <span data-ttu-id="41d50-125">衡量应用程序的性能后，需要确定将导致最大改进的更改。</span><span class="sxs-lookup"><span data-stu-id="41d50-125">Once you have measured your application's performance, you need to identify the changes that will result in the biggest improvements.</span></span> <span data-ttu-id="41d50-126">修改应用程序后，请重新启动循环。</span><span class="sxs-lookup"><span data-stu-id="41d50-126">Once you have modified your application, start the cycle again.</span></span>  
  
## <a name="make-performance-tuning-an-iterative-process"></a><span data-ttu-id="41d50-127">使性能优化成为迭代过程</span><span class="sxs-lookup"><span data-stu-id="41d50-127">Make Performance Tuning an Iterative Process</span></span>  
 <span data-ttu-id="41d50-128">您应该知道您将使用的每项功能的相对成本。</span><span class="sxs-lookup"><span data-stu-id="41d50-128">You should know the relative cost of each feature you will use.</span></span> <span data-ttu-id="41d50-129">例如，在 Microsoft .NET 框架中使用反射通常会对计算资源的性能有很大的影响，因此您需要谨慎地使用它。</span><span class="sxs-lookup"><span data-stu-id="41d50-129">For example, the use of reflection in Microsoft .NET Framework is generally performance intensive in terms of computing resources, so you would want to use it judiciously.</span></span> <span data-ttu-id="41d50-130">这并不意味着避免使用反射，只应小心地根据你所使用的功能的性能要求来平衡应用程序的性能要求。</span><span class="sxs-lookup"><span data-stu-id="41d50-130">This does not mean to avoid the use of reflection, only that you should be careful to balance the performance requirements of your application with the performance demands of the features you use.</span></span>  
  
## <a name="build-towards-graphical-richness"></a><span data-ttu-id="41d50-131">面向图形丰富的生成</span><span class="sxs-lookup"><span data-stu-id="41d50-131">Build Towards Graphical Richness</span></span>  
 <span data-ttu-id="41d50-132">创建可缩放方法以实现应用程序性能的一项关键方法 [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] 是构建图形丰富和复杂程度。</span><span class="sxs-lookup"><span data-stu-id="41d50-132">A key technique for creating a scalable approach towards achieving [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] application performance is to build towards graphical richness and complexity.</span></span> <span data-ttu-id="41d50-133">始终使用最小的性能密集型资源来实现您的方案目标。</span><span class="sxs-lookup"><span data-stu-id="41d50-133">Always start with using the least performance intensive resources to achieve your scenario goals.</span></span> <span data-ttu-id="41d50-134">实现这些目标后，通过使用更多的性能密集型功能构建图形丰富的功能，始终牢记方案目标。</span><span class="sxs-lookup"><span data-stu-id="41d50-134">Once you achieve these goals, build towards graphic richness by using more performance intensive features, always keeping your scenario goals in mind.</span></span> <span data-ttu-id="41d50-135">请记住， [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] 它是一个非常丰富的平台，它提供了非常丰富的图形功能。</span><span class="sxs-lookup"><span data-stu-id="41d50-135">Remember, [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] is a very rich platform and provides very rich graphic features.</span></span> <span data-ttu-id="41d50-136">在不考虑的情况下使用性能密集型功能可能会对总体应用程序性能产生负面影响。</span><span class="sxs-lookup"><span data-stu-id="41d50-136">Using performance intensive features without thinking can negatively impact your overall application performance.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="41d50-137">控件本质上是可扩展的，因为允许跨范围自定义其外观，而不更改其控制行为。</span><span class="sxs-lookup"><span data-stu-id="41d50-137">controls are inherently extensible by allowing for wide-spread customization of their appearance, while not altering their control behavior.</span></span> <span data-ttu-id="41d50-138">通过利用样式、数据模板和控件模板，你可以创建并以增量方式改进可 [!INCLUDE[TLA#tla_ui](../../../includes/tlasharptla-ui-md.md)] 适应你的性能要求的自定义。</span><span class="sxs-lookup"><span data-stu-id="41d50-138">By taking advantage of styles, data templates, and control templates, you can create and incrementally evolve a customizable [!INCLUDE[TLA#tla_ui](../../../includes/tlasharptla-ui-md.md)] that adapts to your performance requirements.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="41d50-139">请参阅</span><span class="sxs-lookup"><span data-stu-id="41d50-139">See also</span></span>

- [<span data-ttu-id="41d50-140">优化 WPF 应用程序性能</span><span class="sxs-lookup"><span data-stu-id="41d50-140">Optimizing WPF Application Performance</span></span>](optimizing-wpf-application-performance.md)
- [<span data-ttu-id="41d50-141">利用硬件</span><span class="sxs-lookup"><span data-stu-id="41d50-141">Taking Advantage of Hardware</span></span>](optimizing-performance-taking-advantage-of-hardware.md)
- [<span data-ttu-id="41d50-142">布局和示例</span><span class="sxs-lookup"><span data-stu-id="41d50-142">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="41d50-143">二维图形和图像处理</span><span class="sxs-lookup"><span data-stu-id="41d50-143">2D Graphics and Imaging</span></span>](optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="41d50-144">对象行为</span><span class="sxs-lookup"><span data-stu-id="41d50-144">Object Behavior</span></span>](optimizing-performance-object-behavior.md)
- [<span data-ttu-id="41d50-145">应用程序资源</span><span class="sxs-lookup"><span data-stu-id="41d50-145">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="41d50-146">文本</span><span class="sxs-lookup"><span data-stu-id="41d50-146">Text</span></span>](optimizing-performance-text.md)
- [<span data-ttu-id="41d50-147">数据绑定</span><span class="sxs-lookup"><span data-stu-id="41d50-147">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="41d50-148">其他性能建议</span><span class="sxs-lookup"><span data-stu-id="41d50-148">Other Performance Recommendations</span></span>](optimizing-performance-other-recommendations.md)
