---
title: 键盘输入工作原理
ms.date: 03/30/2017
ms.topic: overview
helpviewer_keywords:
- keyboard input [Windows Forms], about keyboard input
- keyboards [Windows Forms], keyboard input
- Windows Forms, keyboard input
ms.assetid: 9a29433c-a180-49bb-b74c-d187786584c8
ms.openlocfilehash: aafc7b27cdd2d4c9c013a1f9632ee68ab2364dcd
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/09/2020
ms.locfileid: "96970276"
---
# <a name="how-keyboard-input-works"></a><span data-ttu-id="1929b-102">键盘输入工作原理</span><span class="sxs-lookup"><span data-stu-id="1929b-102">How Keyboard Input Works</span></span>

<span data-ttu-id="1929b-103">Windows 窗体通过引发键盘事件来处理键盘输入，以响应 Windows 消息。</span><span class="sxs-lookup"><span data-stu-id="1929b-103">Windows Forms processes keyboard input by raising keyboard events in response to Windows messages.</span></span> <span data-ttu-id="1929b-104">大多数 Windows 窗体应用程序都通过处理键盘事件来以独占方式处理键盘输入。</span><span class="sxs-lookup"><span data-stu-id="1929b-104">Most Windows Forms applications process keyboard input exclusively by handling the keyboard events.</span></span> <span data-ttu-id="1929b-105">但是，必须了解键盘消息的工作方式，才能实现更高级的键盘输入方案（如在按键到达控件之前截获它们）。</span><span class="sxs-lookup"><span data-stu-id="1929b-105">However, you need to understand how keyboard messages work so you can implement more advanced keyboard-input scenarios, such as intercepting keys before they reach a control.</span></span> <span data-ttu-id="1929b-106">本主题描述 Windows 窗体能够识别的按键数据的类型，并概述键盘消息的传送方式。</span><span class="sxs-lookup"><span data-stu-id="1929b-106">This topic describes the types of key data that Windows Forms recognizes and provides an overview of how keyboard messages are routed.</span></span> <span data-ttu-id="1929b-107">有关键盘事件的信息，请参阅[使用键盘事件](using-keyboard-events.md)。</span><span class="sxs-lookup"><span data-stu-id="1929b-107">For information about keyboard events, see [Using Keyboard Events](using-keyboard-events.md).</span></span>  
  
## <a name="types-of-keys"></a><span data-ttu-id="1929b-108">按键的类型</span><span class="sxs-lookup"><span data-stu-id="1929b-108">Types of Keys</span></span>  

 <span data-ttu-id="1929b-109">Windows 窗体将键盘输入标识为按位枚举表示的虚拟键代码 <xref:System.Windows.Forms.Keys> 。</span><span class="sxs-lookup"><span data-stu-id="1929b-109">Windows Forms identifies keyboard input as virtual-key codes that are represented by the bitwise <xref:System.Windows.Forms.Keys> enumeration.</span></span> <span data-ttu-id="1929b-110">使用 <xref:System.Windows.Forms.Keys> 枚举，可以组合一系列按下的键来产生单个值。</span><span class="sxs-lookup"><span data-stu-id="1929b-110">With the <xref:System.Windows.Forms.Keys> enumeration, you can combine a series of pressed keys to result in a single value.</span></span> <span data-ttu-id="1929b-111">这些值与 WM_KEYDOWN 和 WM_SYSKEYDOWN Windows 消息所伴随的值相对应。</span><span class="sxs-lookup"><span data-stu-id="1929b-111">These values correspond to the values that accompany the WM_KEYDOWN and WM_SYSKEYDOWN Windows messages.</span></span> <span data-ttu-id="1929b-112">可以通过处理或事件来检测大多数物理按键 <xref:System.Windows.Forms.Control.KeyDown> <xref:System.Windows.Forms.Control.KeyUp> 。</span><span class="sxs-lookup"><span data-stu-id="1929b-112">You can detect most physical key presses by handling the <xref:System.Windows.Forms.Control.KeyDown> or <xref:System.Windows.Forms.Control.KeyUp> events.</span></span> <span data-ttu-id="1929b-113">字符键是枚举的一个子集 <xref:System.Windows.Forms.Keys> ，并且与 WM_CHAR 和 WM_SYSCHAR Windows 消息附带的值相对应。</span><span class="sxs-lookup"><span data-stu-id="1929b-113">Character keys are a subset of the <xref:System.Windows.Forms.Keys> enumeration and correspond to the values that accompany the WM_CHAR and WM_SYSCHAR Windows messages.</span></span> <span data-ttu-id="1929b-114">如果按下的键的组合产生一个字符，则可以通过处理事件来检测该字符 <xref:System.Windows.Forms.Control.KeyPress> 。</span><span class="sxs-lookup"><span data-stu-id="1929b-114">If the combination of pressed keys results in a character, you can detect the character by handling the <xref:System.Windows.Forms.Control.KeyPress> event.</span></span> <span data-ttu-id="1929b-115">或者，你可以使用 <xref:Microsoft.VisualBasic.Devices.Keyboard> Visual Basic 编程接口公开的，以发现按下了哪些键并发送键。</span><span class="sxs-lookup"><span data-stu-id="1929b-115">Alternatively, you can use <xref:Microsoft.VisualBasic.Devices.Keyboard>, exposed by Visual Basic programming interface, to discover which keys were pressed and send keys.</span></span> <span data-ttu-id="1929b-116">有关详细信息，请参阅[访问键盘](/dotnet/visual-basic/developing-apps/programming/computer-resources/accessing-the-keyboar)。</span><span class="sxs-lookup"><span data-stu-id="1929b-116">For more information, see [Accessing the Keyboard](/dotnet/visual-basic/developing-apps/programming/computer-resources/accessing-the-keyboar).</span></span>  
  
## <a name="order-of-keyboard-events"></a><span data-ttu-id="1929b-117">键盘事件的顺序</span><span class="sxs-lookup"><span data-stu-id="1929b-117">Order of Keyboard Events</span></span>  

 <span data-ttu-id="1929b-118">正如上面列出的那样，在一个控件上可能出现三个与键盘相关的事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-118">As listed previously, there are 3 keyboard related events that can occur on a control.</span></span> <span data-ttu-id="1929b-119">以下顺序是发生这些事件的常规顺序：</span><span class="sxs-lookup"><span data-stu-id="1929b-119">The following sequence shows the general order of the events:</span></span>  
  
1. <span data-ttu-id="1929b-120">用户推送 "a" 键，对密钥进行预处理、调度，并 <xref:System.Windows.Forms.Control.KeyDown> 发生事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-120">The user pushes the "a" key, the key is preprocessed, dispatched, and a <xref:System.Windows.Forms.Control.KeyDown> event occurs.</span></span>  
  
2. <span data-ttu-id="1929b-121">用户保存 "a" 键，该键经过预处理、调度，并 <xref:System.Windows.Forms.Control.KeyPress> 发生事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-121">The user holds the "a" key, the key is preprocessed, dispatched, and a <xref:System.Windows.Forms.Control.KeyPress> event occurs.</span></span>  
  
     <span data-ttu-id="1929b-122">当用户按住某个键时，此事件会发生多次。</span><span class="sxs-lookup"><span data-stu-id="1929b-122">This event occurs multiple times as the user holds a key.</span></span>  
  
3. <span data-ttu-id="1929b-123">用户释放 "a" 键，该键经过预处理，并 <xref:System.Windows.Forms.Control.KeyUp> 发生事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-123">The user releases the "a" key, the key is preprocessed, dispatched and a <xref:System.Windows.Forms.Control.KeyUp> event occurs.</span></span>  
  
## <a name="preprocessing-keys"></a><span data-ttu-id="1929b-124">键的预处理</span><span class="sxs-lookup"><span data-stu-id="1929b-124">Preprocessing Keys</span></span>  

 <span data-ttu-id="1929b-125">与其他消息一样，键盘消息是在 <xref:System.Windows.Forms.Control.WndProc%2A> 窗体或控件的方法中处理的。</span><span class="sxs-lookup"><span data-stu-id="1929b-125">Like other messages, keyboard messages are processed in the <xref:System.Windows.Forms.Control.WndProc%2A> method of a form or control.</span></span> <span data-ttu-id="1929b-126">但是，在处理键盘消息之前，该 <xref:System.Windows.Forms.Control.PreProcessMessage%2A> 方法调用一个或多个可重写的方法来处理特殊的字符键和物理键。</span><span class="sxs-lookup"><span data-stu-id="1929b-126">However, before keyboard messages are processed, the <xref:System.Windows.Forms.Control.PreProcessMessage%2A> method calls one or more methods that can be overridden to handle special character keys and physical keys.</span></span> <span data-ttu-id="1929b-127">可以重写这些方法，以便在控件处理消息之前检测并筛选某些按键。</span><span class="sxs-lookup"><span data-stu-id="1929b-127">You can override these methods to detect and filter certain keys before the messages are processed by the control.</span></span> <span data-ttu-id="1929b-128">下表按照方法出现的顺序列出了正在执行的操作以及所出现的相关方法。</span><span class="sxs-lookup"><span data-stu-id="1929b-128">The following table shows the action that is being performed and the related method that occurs, in the order that the method occurs.</span></span>  
  
### <a name="preprocessing-for-a-keydown-event"></a><span data-ttu-id="1929b-129">KeyDown 事件的预处理</span><span class="sxs-lookup"><span data-stu-id="1929b-129">Preprocessing for a KeyDown event</span></span>  
  
|<span data-ttu-id="1929b-130">操作</span><span class="sxs-lookup"><span data-stu-id="1929b-130">Action</span></span>|<span data-ttu-id="1929b-131">相关方法</span><span class="sxs-lookup"><span data-stu-id="1929b-131">Related method</span></span>|<span data-ttu-id="1929b-132">说明</span><span class="sxs-lookup"><span data-stu-id="1929b-132">Notes</span></span>|  
|------------|--------------------|-----------|  
|<span data-ttu-id="1929b-133">检查命令键（如快捷键或菜单快捷键）。</span><span class="sxs-lookup"><span data-stu-id="1929b-133">Check for a command key such as an accelerator or menu shortcut.</span></span>|<xref:System.Windows.Forms.Control.ProcessCmdKey%2A>|<span data-ttu-id="1929b-134">此方法处理命令键，命令键的优先级高于常规键。</span><span class="sxs-lookup"><span data-stu-id="1929b-134">This method processes a command key, which takes precedence over regular keys.</span></span> <span data-ttu-id="1929b-135">如果此方法返回 `true`，则不调度键消息，而且不发生键事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-135">If this method returns `true`, the key message is not dispatched and a key event does not occur.</span></span> <span data-ttu-id="1929b-136">如果它返回 `false` ， <xref:System.Windows.Forms.Control.IsInputKey%2A> 则调用`.`</span><span class="sxs-lookup"><span data-stu-id="1929b-136">If it returns `false`, <xref:System.Windows.Forms.Control.IsInputKey%2A> is called`.`</span></span>|  
|<span data-ttu-id="1929b-137">检查是否需要预处理的特殊键或应引发 <xref:System.Windows.Forms.Control.KeyDown> 事件并将其调度到控件的普通字符键。</span><span class="sxs-lookup"><span data-stu-id="1929b-137">Check for a special key that requires preprocessing or a normal character key that should raise a <xref:System.Windows.Forms.Control.KeyDown> event and be dispatched to a control.</span></span>|<xref:System.Windows.Forms.Control.IsInputKey%2A>|<span data-ttu-id="1929b-138">如果该方法返回 `true` ，则表示该控件是一个常规字符，并 <xref:System.Windows.Forms.Control.KeyDown> 引发事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-138">If the method returns `true`, it means the control is a regular character and a <xref:System.Windows.Forms.Control.KeyDown> event is raised.</span></span> <span data-ttu-id="1929b-139">如果 `false` <xref:System.Windows.Forms.Control.ProcessDialogKey%2A> 为，则调用。</span><span class="sxs-lookup"><span data-stu-id="1929b-139">If `false`, <xref:System.Windows.Forms.Control.ProcessDialogKey%2A> is called.</span></span> <span data-ttu-id="1929b-140">**注意：**  若要确保控件获取键或键组合，你可以处理 <xref:System.Windows.Forms.Control.PreviewKeyDown> 事件，并将设置为所 <xref:System.Windows.Forms.PreviewKeyDownEventArgs.IsInputKey%2A> 需的键的 <xref:System.Windows.Forms.PreviewKeyDownEventArgs> `true` 。</span><span class="sxs-lookup"><span data-stu-id="1929b-140">**Note:**  To ensure a control gets a key or combination of keys, you can handle the <xref:System.Windows.Forms.Control.PreviewKeyDown> event and set <xref:System.Windows.Forms.PreviewKeyDownEventArgs.IsInputKey%2A> of the <xref:System.Windows.Forms.PreviewKeyDownEventArgs> to `true` for the key or keys you want.</span></span>|  
|<span data-ttu-id="1929b-141">检查该键是否为导航键（Esc、Tab、回车键或箭头键）。</span><span class="sxs-lookup"><span data-stu-id="1929b-141">Check for a navigation key (ESC, TAB, Return, or arrow keys).</span></span>|<xref:System.Windows.Forms.Control.ProcessDialogKey%2A>|<span data-ttu-id="1929b-142">此方法处理在控件内实现特殊功能（如在控件与其父级之间切换焦点）的物理按键。</span><span class="sxs-lookup"><span data-stu-id="1929b-142">This method processes a physical key that employs special functionality within the control, such as switching focus between the control and its parent.</span></span> <span data-ttu-id="1929b-143">如果直接控件不处理该键，则 <xref:System.Windows.Forms.Control.ProcessDialogKey%2A> 会对父控件调用，并在层次结构中的最顶层控件上调用。</span><span class="sxs-lookup"><span data-stu-id="1929b-143">If the immediate control does not handle the key, the <xref:System.Windows.Forms.Control.ProcessDialogKey%2A> is called on the parent control and so on to the topmost control in the hierarchy.</span></span> <span data-ttu-id="1929b-144">如果此方法返回 `true`，则完成预处理，而且不生成按键事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-144">If this method returns `true`, preprocessing is complete and a key event is not generated.</span></span> <span data-ttu-id="1929b-145">如果它返回 `false` ，则 <xref:System.Windows.Forms.Control.KeyDown> 发生事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-145">If it returns `false`, a <xref:System.Windows.Forms.Control.KeyDown> event occurs.</span></span>|  
  
### <a name="preprocessing-for-a-keypress-event"></a><span data-ttu-id="1929b-146">KeyPress 事件的预处理</span><span class="sxs-lookup"><span data-stu-id="1929b-146">Preprocessing for a KeyPress Event</span></span>  
  
|<span data-ttu-id="1929b-147">操作</span><span class="sxs-lookup"><span data-stu-id="1929b-147">Action</span></span>|<span data-ttu-id="1929b-148">相关方法</span><span class="sxs-lookup"><span data-stu-id="1929b-148">Related method</span></span>|<span data-ttu-id="1929b-149">说明</span><span class="sxs-lookup"><span data-stu-id="1929b-149">Notes</span></span>|  
|------------|--------------------|-----------|  
|<span data-ttu-id="1929b-150">检查该键是否为控件应当处理的普通字符</span><span class="sxs-lookup"><span data-stu-id="1929b-150">Check to see the key is a normal character that should be processed by the control</span></span>|<xref:System.Windows.Forms.Control.IsInputChar%2A>|<span data-ttu-id="1929b-151">如果该字符是普通字符，则此方法返回 `true` ，将 <xref:System.Windows.Forms.Control.KeyPress> 引发事件，并且不会进一步进行预处理。</span><span class="sxs-lookup"><span data-stu-id="1929b-151">If the character is a normal character, this method returns `true`, the <xref:System.Windows.Forms.Control.KeyPress> event is raised and no further preprocessing occurs.</span></span> <span data-ttu-id="1929b-152">否则， <xref:System.Windows.Forms.Control.ProcessDialogChar%2A> 将调用。</span><span class="sxs-lookup"><span data-stu-id="1929b-152">Otherwise <xref:System.Windows.Forms.Control.ProcessDialogChar%2A> will be called.</span></span>|  
|<span data-ttu-id="1929b-153">检查该字符是否为助记键（如按钮上的“确定(&O)”）</span><span class="sxs-lookup"><span data-stu-id="1929b-153">Check to see if the character is a mnemonic (such as &OK on a button)</span></span>|<xref:System.Windows.Forms.Control.ProcessDialogChar%2A>|<span data-ttu-id="1929b-154">此方法类似于 <xref:System.Windows.Forms.Control.ProcessDialogKey%2A> ，将向上调用控件层次结构。</span><span class="sxs-lookup"><span data-stu-id="1929b-154">This method, similar to <xref:System.Windows.Forms.Control.ProcessDialogKey%2A>, will be called up the control hierarchy.</span></span> <span data-ttu-id="1929b-155">如果控件是容器控件，则它通过 <xref:System.Windows.Forms.Control.ProcessMnemonic%2A> 对自身及其子控件调用来检查助记键。</span><span class="sxs-lookup"><span data-stu-id="1929b-155">If the control is a container control, it checks for mnemonics by calling <xref:System.Windows.Forms.Control.ProcessMnemonic%2A> on itself and its child controls.</span></span> <span data-ttu-id="1929b-156">如果 <xref:System.Windows.Forms.Control.ProcessDialogChar%2A> 返回 `true` ，则 <xref:System.Windows.Forms.Control.KeyPress> 不会发生事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-156">If <xref:System.Windows.Forms.Control.ProcessDialogChar%2A> returns `true`, a <xref:System.Windows.Forms.Control.KeyPress> event does not occur.</span></span>|  
  
## <a name="processing-keyboard-messages"></a><span data-ttu-id="1929b-157">处理键盘消息</span><span class="sxs-lookup"><span data-stu-id="1929b-157">Processing Keyboard Messages</span></span>  

 <span data-ttu-id="1929b-158">在键盘消息到达 <xref:System.Windows.Forms.Control.WndProc%2A> 窗体或控件的方法后，将通过一组可以重写的方法来处理这些消息。</span><span class="sxs-lookup"><span data-stu-id="1929b-158">After keyboard messages reach the <xref:System.Windows.Forms.Control.WndProc%2A> method of a form or control, they are processed by a set of methods that can be overridden.</span></span> <span data-ttu-id="1929b-159">其中每个方法都将返回一个 <xref:System.Boolean> 值，该值指定键盘消息是否已由控件处理和使用。</span><span class="sxs-lookup"><span data-stu-id="1929b-159">Each of these methods returns a <xref:System.Boolean> value specifying whether the keyboard message has been processed and consumed by the control.</span></span> <span data-ttu-id="1929b-160">如果其中的某种方法返回 `true`，则键盘消息被视为已处理，而且它不传递到控件的基控件或父控件进行进一步处理。</span><span class="sxs-lookup"><span data-stu-id="1929b-160">If one of the methods returns `true`, then the message is considered handled, and it is not passed to the control's base or parent for further processing.</span></span> <span data-ttu-id="1929b-161">否则，消息停留在消息队列中，而且可能会在控件的基控件或父控件的其他方法中进行处理。</span><span class="sxs-lookup"><span data-stu-id="1929b-161">Otherwise, the message stays in the message queue and may be processed in another method in the control's base or parent.</span></span> <span data-ttu-id="1929b-162">下表显示用来处理键盘消息的方法。</span><span class="sxs-lookup"><span data-stu-id="1929b-162">The following table presents the methods that process keyboard messages.</span></span>  
  
|<span data-ttu-id="1929b-163">方法</span><span class="sxs-lookup"><span data-stu-id="1929b-163">Method</span></span>|<span data-ttu-id="1929b-164">说明</span><span class="sxs-lookup"><span data-stu-id="1929b-164">Notes</span></span>|  
|------------|-----------|  
|<xref:System.Windows.Forms.Control.ProcessKeyMessage%2A>|<span data-ttu-id="1929b-165">此方法处理由该控件的方法接收的所有键盘消息 <xref:System.Windows.Forms.Control.WndProc%2A> 。</span><span class="sxs-lookup"><span data-stu-id="1929b-165">This method processes all keyboard messages that are received by the <xref:System.Windows.Forms.Control.WndProc%2A> method of the control.</span></span>|  
|<xref:System.Windows.Forms.Control.ProcessKeyPreview%2A>|<span data-ttu-id="1929b-166">此方法将键盘消息发送到控件的父控件。</span><span class="sxs-lookup"><span data-stu-id="1929b-166">This method sends the keyboard message to the control's parent.</span></span> <span data-ttu-id="1929b-167">如果 <xref:System.Windows.Forms.Control.ProcessKeyPreview%2A> 返回 `true` ，则不生成键事件，否则 <xref:System.Windows.Forms.Control.ProcessKeyEventArgs%2A> 会调用。</span><span class="sxs-lookup"><span data-stu-id="1929b-167">If <xref:System.Windows.Forms.Control.ProcessKeyPreview%2A> returns `true`, no key event is generated, otherwise <xref:System.Windows.Forms.Control.ProcessKeyEventArgs%2A> is called.</span></span>|  
|<xref:System.Windows.Forms.Control.ProcessKeyEventArgs%2A>|<span data-ttu-id="1929b-168">此方法会 <xref:System.Windows.Forms.Control.KeyDown> <xref:System.Windows.Forms.Control.KeyPress> 根据需要引发、和 <xref:System.Windows.Forms.Control.KeyUp> 事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-168">This method raises the <xref:System.Windows.Forms.Control.KeyDown>, <xref:System.Windows.Forms.Control.KeyPress>, and <xref:System.Windows.Forms.Control.KeyUp> events, as appropriate.</span></span>|  
  
## <a name="overriding-keyboard-methods"></a><span data-ttu-id="1929b-169">重写键盘方法</span><span class="sxs-lookup"><span data-stu-id="1929b-169">Overriding Keyboard Methods</span></span>  

 <span data-ttu-id="1929b-170">在预处理和处理键盘消息时，可以使用许多方法进行重写；但是，这些方法有好有坏。</span><span class="sxs-lookup"><span data-stu-id="1929b-170">There are many methods available for overriding when a keyboard message is preprocessed and processed; however, some methods are much better choices than others.</span></span> <span data-ttu-id="1929b-171">下表显示可能需要完成的任务以及重写键盘方法的最佳方式。</span><span class="sxs-lookup"><span data-stu-id="1929b-171">Following table shows tasks you might want to accomplish and the best way to override the keyboard methods.</span></span> <span data-ttu-id="1929b-172">有关重写方法的详细信息，请参阅 [重写派生类中的属性和方法](/dotnet/visual-basic/programming-guide/language-features/objects-and-classes/inheritance-basics#overriding-properties-and-methods-in-derived-classes)。</span><span class="sxs-lookup"><span data-stu-id="1929b-172">For more information on overriding methods, see [Overriding properties and methods in derived classes](/dotnet/visual-basic/programming-guide/language-features/objects-and-classes/inheritance-basics#overriding-properties-and-methods-in-derived-classes).</span></span>  
  
|<span data-ttu-id="1929b-173">任务</span><span class="sxs-lookup"><span data-stu-id="1929b-173">Task</span></span>|<span data-ttu-id="1929b-174">方法</span><span class="sxs-lookup"><span data-stu-id="1929b-174">Method</span></span>|  
|----------|------------|  
|<span data-ttu-id="1929b-175">截获导航键并引发 <xref:System.Windows.Forms.Control.KeyDown> 事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-175">Intercept a navigation key and raise a <xref:System.Windows.Forms.Control.KeyDown> event.</span></span> <span data-ttu-id="1929b-176">例如，希望在文本框中处理 Tab 键和回车键。</span><span class="sxs-lookup"><span data-stu-id="1929b-176">For example you want TAB and Return to be handled in a text box.</span></span>|<span data-ttu-id="1929b-177">替代 <xref:System.Windows.Forms.Control.IsInputKey%2A>。</span><span class="sxs-lookup"><span data-stu-id="1929b-177">Override <xref:System.Windows.Forms.Control.IsInputKey%2A>.</span></span> <span data-ttu-id="1929b-178">**注意：**  另外，还可以处理 <xref:System.Windows.Forms.Control.PreviewKeyDown> 事件，并为所需的一个或一组 <xref:System.Windows.Forms.PreviewKeyDownEventArgs.IsInputKey%2A> 键处理的 <xref:System.Windows.Forms.PreviewKeyDownEventArgs> `true` 。</span><span class="sxs-lookup"><span data-stu-id="1929b-178">**Note:**  Alternatively, you can handle the <xref:System.Windows.Forms.Control.PreviewKeyDown> event and set <xref:System.Windows.Forms.PreviewKeyDownEventArgs.IsInputKey%2A> of the <xref:System.Windows.Forms.PreviewKeyDownEventArgs> to `true` for the key or keys you want.</span></span>|  
|<span data-ttu-id="1929b-179">在控件上执行特殊的输入或导航处理。</span><span class="sxs-lookup"><span data-stu-id="1929b-179">Perform special input or navigation handling on a control.</span></span> <span data-ttu-id="1929b-180">例如，你可能希望在列表控件中使用箭头键更改选定项。</span><span class="sxs-lookup"><span data-stu-id="1929b-180">For example, you want the use of arrow keys in your list control to change the selected item.</span></span>|<span data-ttu-id="1929b-181">重写 <xref:System.Windows.Forms.Control.ProcessDialogKey%2A></span><span class="sxs-lookup"><span data-stu-id="1929b-181">Override <xref:System.Windows.Forms.Control.ProcessDialogKey%2A></span></span>|  
|<span data-ttu-id="1929b-182">截获导航键并引发 <xref:System.Windows.Forms.Control.KeyPress> 事件。</span><span class="sxs-lookup"><span data-stu-id="1929b-182">Intercept a navigation key and raise a <xref:System.Windows.Forms.Control.KeyPress> event.</span></span> <span data-ttu-id="1929b-183">例如，你希望在数字调整框控件中，多次按箭头键来加快项的调整进度。</span><span class="sxs-lookup"><span data-stu-id="1929b-183">For example in a spin-box control you want multiple arrow key presses to accelerate progression through the items.</span></span>|<span data-ttu-id="1929b-184">替代 <xref:System.Windows.Forms.Control.IsInputChar%2A>。</span><span class="sxs-lookup"><span data-stu-id="1929b-184">Override <xref:System.Windows.Forms.Control.IsInputChar%2A>.</span></span>|  
|<span data-ttu-id="1929b-185">在事件期间执行特殊的输入或导航处理 <xref:System.Windows.Forms.Control.KeyPress> 。</span><span class="sxs-lookup"><span data-stu-id="1929b-185">Perform special input or navigation handling during a <xref:System.Windows.Forms.Control.KeyPress> event.</span></span> <span data-ttu-id="1929b-186">例如，在列表控件中，按住“r”键将跳到以字母 r 开头的项并在这些项间切换。</span><span class="sxs-lookup"><span data-stu-id="1929b-186">For example, in a list control holding down the "r" key skips between items that begin with the letter r.</span></span>|<span data-ttu-id="1929b-187">重写 <xref:System.Windows.Forms.Control.ProcessDialogChar%2A></span><span class="sxs-lookup"><span data-stu-id="1929b-187">Override <xref:System.Windows.Forms.Control.ProcessDialogChar%2A></span></span>|  
|<span data-ttu-id="1929b-188">执行自定义的助记键处理；例如，你希望处理所有者描述的、包含在工具栏中的按钮上的助记键。</span><span class="sxs-lookup"><span data-stu-id="1929b-188">Perform custom mnemonic handling; for example, you want to handle mnemonics on owner-drawn buttons contained in a toolbar.</span></span>|<span data-ttu-id="1929b-189">替代 <xref:System.Windows.Forms.Control.ProcessMnemonic%2A>。</span><span class="sxs-lookup"><span data-stu-id="1929b-189">Override <xref:System.Windows.Forms.Control.ProcessMnemonic%2A>.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="1929b-190">另请参阅</span><span class="sxs-lookup"><span data-stu-id="1929b-190">See also</span></span>

- <xref:System.Windows.Forms.Keys>
- <xref:System.Windows.Forms.Control.WndProc%2A>
- <xref:System.Windows.Forms.Control.PreProcessMessage%2A>
- [<span data-ttu-id="1929b-191">My.Computer.Keyboard 对象</span><span class="sxs-lookup"><span data-stu-id="1929b-191">My.Computer.Keyboard Object</span></span>](/dotnet/visual-basic/language-reference/objects/my-computer-keyboard-object)
- [<span data-ttu-id="1929b-192">访问键盘</span><span class="sxs-lookup"><span data-stu-id="1929b-192">Accessing the Keyboard</span></span>](/dotnet/visual-basic/developing-apps/programming/computer-resources/accessing-the-keyboar)
- [<span data-ttu-id="1929b-193">使用键盘事件</span><span class="sxs-lookup"><span data-stu-id="1929b-193">Using Keyboard Events</span></span>](using-keyboard-events.md)
